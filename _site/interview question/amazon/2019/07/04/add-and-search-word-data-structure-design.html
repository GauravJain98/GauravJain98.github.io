<!DOCTYPE html>
<html>

  <head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content="Gaurav Jain" property="og:site_name">


	<meta content="Add and Search Word Data Structure Design" property="og:title">


	<meta content="article" property="og:type">
<link rel="apple-touch-icon" sizes="57x57" href="../assets">
<link rel="apple-touch-icon" sizes="60x60" href="../assets/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../assets/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../assets/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../assets/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../assets/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../assets/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../assets/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../assets/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../assets/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../assets/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../assets/favicon-16x16.png">
<link rel="manifest" href="../assets/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="../assets/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

	<meta content="<h3>Hello, World! I am </h3><h1>Everything but looks</h1><h3>I'll implement your vision</h3>and keep you on your toes ;)" property="og:description">


	<meta content="http://localhost:4000/interview%20question/amazon/2019/07/04/add-and-search-word-data-structure-design.html" property="og:url">


	<meta content="2019-07-04T00:00:00+05:30" property="article:published_time">
	<meta content="http://localhost:4000/about/" property="article:author">


<meta property="og:image" content="">


	
		<meta content="interview question" property="article:section">
	


	
		<meta content="competitve coding" property="article:tag">
	
		<meta content="dictionary" property="article:tag">
	
		<meta content="tries" property="article:tag">
	
		<meta content="recursion" property="article:tag">
	
		<meta content="gauravjain98" property="article:tag">
	
		<meta content="blog" property="article:tag">
	
		<meta content="training" property="article:tag">
	
		<meta content="string" property="article:tag">
	
		<meta content="leetcode" property="article:tag">
	
		<meta content="hackerrank" property="article:tag">
	
		<meta content="hackerearth" property="article:tag">
	
		<meta content="american express" property="article:tag">
	


	
		<meta content="web development" property="article:tag">
	
		<meta content="frontend" property="article:tag">
	
		<meta content="library" property="article:tag">
	
		<meta content="medium editor" property="article:tag">
	
		<meta content="community" property="article:tag">
	
		<meta content="github" property="article:tag">
	
		<meta content="student" property="article:tag">
	
		<meta content="education" property="article:tag">
	
		<meta content="programming" property="article:tag">
	
		<meta content="web" property="article:tag">
	
		<meta content="development" property="article:tag">
	
		<meta content="backend" property="article:tag">
	
		<meta content="django" property="article:tag">
	
		<meta content="django-rest-framework" property="article:tag">
	
		<meta content="DRF" property="article:tag">
	
		<meta content="design" property="article:tag">
	
		<meta content="how" property="article:tag">
	
		<meta content="to" property="article:tag">
	
		<meta content="gauravjain98" property="article:tag">
	
		<meta content="gaurav" property="article:tag">
	
		<meta content="jeklly" property="article:tag">
	
		<meta content="developer" property="article:tag">
	
		<meta content="designer" property="article:tag">
	
		<meta content="freelancer" property="article:tag">
	
		<meta content="competitve coding" property="article:tag">
	
		<meta content="amazon" property="article:tag">
	
		<meta content="partition labels" property="article:tag">
	
		<meta content="blog" property="article:tag">
	
		<meta content="training" property="article:tag">
	
		<meta content="binary tree" property="article:tag">
	
		<meta content="recursion" property="article:tag">
	
		<meta content="binary number" property="article:tag">
	
		<meta content="string" property="article:tag">
	
		<meta content="leetcode" property="article:tag">
	
		<meta content="dictionary" property="article:tag">
	
		<meta content="tries" property="article:tag">
	
		<meta content="hackerrank" property="article:tag">
	
		<meta content="hackerearth" property="article:tag">
	
		<meta content="american express" property="article:tag">
	

<title>Add and Search Word Data Structure Design</title>
<meta name="description" content="The QuestionDesign a data structure that supports the following two operations:">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<link href='https://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Fira+Mono' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,200,300,500,600,700,900' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Gentium+Basic:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Alegreya:400,400italic,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Lora:400,400italic,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Fira+Sans:400,300,500,700' rel='stylesheet' type='text/css'>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-hQpvDQiCJaD2H465dQfA717v7lu5qHWtDbWNPvaTJ0ID5xnPUlVXnKzq7b8YUkbN" crossorigin="anonymous">
<link rel="canonical" href="http://localhost:4000/interview%20question/amazon/2019/07/04/add-and-search-word-data-structure-design.html">
<link rel="alternate" type="application/rss+xml" title="Gaurav Jain" href="http://localhost:4000/feed.xml">
</head>


  <body>
<section>
<nav class="navbar navbar-default navbar-fixed-top">

  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Gaurav Jain</a>
    </div>


    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        
        
        

        
        

        
        

        
        

        
        
        <li><a href="/blog/">Blog</a></li>

        

        
        
        <li><a href="/projects/">Projects</a></li>

        

        
        
        <li><a href="/Gaurav-Jain.pdf">Resume</a></li>

        

        
      </ul>

    <!--  <ul class="nav navbar-nav navbar-right">
        <li><a href="#">Know More!</a></li>

      </ul>-->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
</section>

<section>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="jumbotron">
    <div class="container">
      <h1 class="post-title-main" itemprop="name headline">Add and Search Word Data Structure Design</h1>
      <p class="post-meta"><time datetime="2019-07-04T00:00:00+05:30" itemprop="datePublished">Jul 4, 2019</time> â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Gaurav Jain</span></span></p>
      
    </div>

</div>


  <div class="post-content container" itemprop="articleBody">
    <h2 id="the-question">The Question</h2>

<p>Design a data structure that supports the following two operations:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void addWord(word)
bool search(word)
</code></pre></div></div>

<p>search(word) can search a literal word or a regular expression string containing only letters a-z or .. A . means it can represent any one letter</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Example

addWord("bad")
addWord("dad")
addWord("mad")
search("pad") -&gt; false
search("bad") -&gt; true
search(".ad") -&gt; true
search("b..") -&gt; true
</code></pre></div></div>

<p>You can practice it on <a href="https://leetcode.com/problems/add-and-search-word-data-structure-design/">leetcode</a> before reading the solution</p>

<h2 id="solution">Solution</h2>

<p>Requires making us a <a href="https://www.geeksforgeeks.org/trie-insert-and-search/">tries</a> for the inserted string</p>

<p>Then we search the <a href="https://www.geeksforgeeks.org/trie-insert-and-search/">tries</a> but when we encounter a â€˜.â€™ we try all 26 possibilities and move the index to the next word;</p>

<p>I am using a recursive solution as it will make the solution code simpler to understand/debug which has an advantage in interviews and in the work</p>

<h2 id="code-in-java">Code In Java</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class WordDictionary {
    class Tries{
        boolean word;
        Tries[] next;
        Tries(){
            word = false;
        }
    }
    Tries base;
    /** Initialize your data structure here. */
    public WordDictionary() {
        base = new Tries();
    }    
    /** Adds a word into the data structure. */
    public void addWord(String word) {
        Tries temp = base;
        for(char c:word.toCharArray()){
            if(temp.next == null){
                temp.next = new Tries[26];
            }
            if(temp.next[c-'a'] == null){
                temp.next[c-'a'] = new Tries();
            }
            temp = temp.next[c-'a'];
        }
        temp.word = true;
    }
    
    /** Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter. */
    public boolean search(String word) {
        return search(word,base);
    }
    public boolean search(String word,Tries base){
        if(base == null){return false;}
        for(int i=0;i&lt;word.length();i++){
            if(word.charAt(i) == '.'){
                for(int j=0;j&lt;26;j++){
                    if(base.next!=null &amp;&amp; search(word.substring(i+1),base.next[j])){
                        return true;
                    }
                }
                return false;
            }
            else {
                if(base.next==null || base.next[word.charAt(i) - 'a'] == null){
                    return false;
                }
                base = base.next[word.charAt(i) - 'a'];
            }
        }
        return base.word;
    }
}

/**
 * Your WordDictionary object will be instantiated and called as such:
 * WordDictionary obj = new WordDictionary();
 * obj.addWord(word);
 * boolean param_2 = obj.search(word);
 */
</code></pre></div></div>

<h3 id="theoretical">Theoretical</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Insert Time Complexity: O(N)

Search Time Complexity: O(M + (N-M)26)

M is the number of . in the search
</code></pre></div></div>

<h3 id="leetcode">Leetcode</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Memory: 50.5 MB

Runtime: 80 ms
</code></pre></div></div>

<h2 id="evaluation">Evaluation</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Time: 42.06%

Space: 100.00%
</code></pre></div></div>


  </div>

</article>

</section>
<nav class="navbar navbar-default navbar-fixed-bottom">
  <div class="container footer-content">
    Made with <i class ="fa fa-heart"></i><br>
  </div>
  <div id="contact" class="text-center" style="height:2.5rem">
    <a style="padding: 3px" target="_blank" href="mailto:gauravcdj.98@gmail.com"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>
    <a style="padding: 3px" target="_blank" href="https://www.linkedin.com/in/gauravjain98"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
    <a style="padding: 3px" target="_blank" href="https://www.github.com/"><i class="fa fa-github" aria-hidden="true"></i></a>
    <a style="padding: 3px" target="_blank" href="https://www.twitter.com/gaurav_jain98"><i class="fa fa-twitter" aria-hidden="true"></i></a>
    <a style="padding: 3px" target="_blank" href="https://www.facebook.com/gauravj2011"><i class="fa fa-facebook" aria-hidden="true"></i></a>
    <a style="padding: 3px" target="_blank" href="https://www.instagram.com/cuber_dude/"><i class="fa fa-instagram" aria-hidden="true"></i></a>
  </div>
</div>
</nav>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131751505-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-131751505-1');
</script>

  </body>

</html>
